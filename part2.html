<!-- Daisy Sanchez
     COMP 20 Web Programming
     Homework 6: More Javascript Practice
     Part 2: Amicable Numbers
     25 February 2020 -->
<!-- URL:  -->
<!DOCTYPE html>
<html>
<head>
    <title>Amicable Numbers</title>
    
    <meta charset="utf-8">

    <style type="text/css">
        body{font-size:20px;}
    </style>

    <a href="index.html">Quick Pick</a>

    <script language="javascript">
        function isFactor(num, testnum)
        {
            remainder = num % testnum;
            if(remainder == 0){
                return true;
            } else {
                return false;
            }
        }
        function showFactors(arr)
        {
            document.write("<br>Factors: ");
            for(i=0; i< arr.length; i++){
                document.write(arr[i] + " ");
            }
        }
        function addFactors(arr)
        {
            sum = 0;
            for(i=0; i< arr.length; i++){
                sum = sum + arr[i];
            }
            document.write("<br>Sum of Factors: " + sum);
            return sum;
        }
        
        function notFound(num, arr)
        {
            found = 0;
            for(i=0; i<arr.length; i++){
                if(arr[i] == num){
                    found = 1;
                }
            }
            return found;
        }
        function sortArray(arr)
        {
            i=0;
            while(i<arr.length){
                minIdx  = i;
                minVal = arr[i];
                oldVal = arr[i];
                for(t=i; t<arr.length; t++){
                    if(arr[t] < minVal){
                        minIdx = t;
                        minVal = arr[t];
                    }
                }
                arr[i] = minVal;
                arr[minIdx] = oldVal;
                i++;
            }
            return arr;
        }
        function getFactors(num)
        {
            currVal = 1;
            factorsArr = new Array;
            factorsArr.push(1);
            currVal++;

            while(notFound(currVal, factorsArr)==0 && currVal < num){
                // start here
                if(isFactor(num, currVal)==true){
                    factorsArr.push(currVal);
                    otherVal = num/currVal;
                    factorsArr.push(otherVal);
                }
                currVal++;
            }

            factorsArr = sortArray(factorsArr);

            return factorsArr;
        }
        /*
        // testing function for isFactor
        function test_isFactor()
        {
            for(i=1; i < 10; i++){
                test = isFactor(i, 2);
                if(test == true){
                    document.write("<br>2 is factor of " + i);
                }
                test2 = isFactor(i, 3);
                if(test2 == true){
                    document.write("<br>3 is factor of " + i);
                }
            }
        }
        */
        function areAmicable()
        {
            firstNum = document.getElementById("num1").value;
            secondNum = document.getElementById("num2").value;

            /*
            document.write("Nums: " + firstNum + ", " + secondNum);
            
            // testing isFactor function:
            test_isFactor();

            // testing showFactors function:
            testNumbers = new Array(5,6,7,8,9);
            showFactors(testNumbers);

            // testing addFactors function:
            testNumbers = new Array(1,2,3,4,5);
            addFactors(testNumbers);
            
            // testing getFactors function:
            document.write("<br>For Number 1: ")
            factNum1 = getFactors(firstNum);
            showFactors(factNum1);
            document.write("<br>For Number 2: ")
            factNum2 = getFactors(secondNum);
            showFactors(factNum2);
            */

            document.write("<br>For Number 1: " + firstNum);
            factNum1 = getFactors(firstNum);
            showFactors(factNum1);
            sum1 = addFactors(factNum1);

            document.write("<br><br>");

            document.write("<br>For Number 2: " + secondNum);
            factNum2 = getFactors(secondNum);
            showFactors(factNum2);
            sum2 = addFactors(factNum2);

            document.write("<br><br>");

            if(sum1 == secondNum && sum2 == firstNum){
                document.write("Numbers are Amicable! Yay!");
            } else {
                document.write("Numbers are not Amicable. Boo!");
            }


        }

    </script>
</head>
<body>
    <form name="formGame">
        
        Number 1 <input type="text" name="num1" id="num1">
        <br />
        <br />
        Number 2 <input type="text" name="num2" id="num2">
        <br />
        <br />
        <input type="button" value = "Check My Answer" 
               onclick ="areAmicable()">
    </form>
</body>
</html>